# SPDX-License-Identifier: MIT
#
# Static Partition Manager layout for madi_nrf52840.
# File naming follows NCS convention: pm_static_<BOARD>.yml
#
# Internal flash — nRF52840, 1 MiB (0x100000):
#
#   Address     Size     Partition
#   0x00000000  48 KiB   mcuboot          MCUboot bootloader
#   0x0000C000   512 B   mcuboot_pad      MCUboot image header slot
#   0x0000C200  ~976 KiB app              Application image
#   ─────────────────────────────────────
#   0x0000C000  976 KiB  mcuboot_primary  Slot 0 = pad + app (span)
#
# External QSPI NOR flash — MX25R1635F, 2 MiB (0x200000):
#   Region identified via DTS chosen node: nordic,pm-ext-flash = &mx25r16
#
#   Address     Size     Partition
#   0x00000000  976 KiB  mcuboot_secondary   Slot 1 (OTA update image)
#
# Slot 0 and Slot 1 must be equal in size for swap-using-move.
# Both are 0xF4000 (976 KiB = 244 × 4 KiB sectors).


mcuboot:
  address: 0x00000000
  size: 0x0000C000

mcuboot_pad:
  address: 0x0000C000
  size: 0x00000200

app:
  address: 0x0000C200
  size: 0x000F3E00

mcuboot_primary:
  orig_span: &id001
  - mcuboot_pad
  - app
  span: *id001
  address: 0x0000C000
  size: 0x000F4000

mcuboot_secondary:
  address: 0x00000000
  size: 0x000F4000
  region: external_flash
